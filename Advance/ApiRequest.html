<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Api Request Using xhr</title>
  </head>
  <body style="background-color: #c9b2b2; color: aliceblue">
    <h1>Api</h1>
  </body>
  <script>
    const requestUrl = "https://api.github.com/users/hiteshChoudhary";
    const xhr = new XMLHttpRequest();
    xhr.open("GET", requestUrl);
    let response;
    xhr.onreadystatechange = function () {
      if (xhr.readyState === 4) {
        const data = this.responseText;
        response = JSON.parse(data);
        console.log(response);

        createCard(response);

        function createCard(response) {
          const content = document.body;
          content.innerHTML = `
          <div class="card">
            <img src="${response.avatar_url}" alt="Avatar" style="width:auto;box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2);transition: 0.3s">
            <div class="container" style='padding: 2px 16px;    '>
                <h4><b>${response.name}</b></h4>
                <p><b>Total Follower are </b>: ${response.followers}</p>
            </div>
            </div>
          `;
        }

        //! Create Div
        /* const div = document.createElement("div");
        div.className = "card";
        div.style.boxShadow = "0 4px 8px 0 rgba(0,0,0,0.2)"; */

        // Create Image Tag
        /* const image = document.createElement("img");
        image.src = response.avatar_url;
        image.alt = "Avatar";
        image.style.width = "auto"; */

        // create inner Div
        /* const innerDiv = document.createElement("div");
        innerDiv.className = "container";
        innerDiv.style.padding = "2px 16px";

        const heading = document.createElement("h4");
        const boldText = document.createElement("b");
        boldText.innerHTML = response.name;
        const paragraph = document.createElement("p");
        paragraph.innerHTML = `Total Follower Are : ${response.followers} `;

        document.body.appendChild(div);
        div.appendChild(image);
        div.appendChild(innerDiv);
        innerDiv.appendChild(heading);
        heading.appendChild(boldText);
        innerDiv.appendChild(paragraph); */
      }
    };

    xhr.send();
  </script>
</html>
